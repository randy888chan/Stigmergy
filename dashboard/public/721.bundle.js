/*! For license information please see 721.bundle.js.LICENSE.txt */
"use strict";(self.webpackChunk_randy888chan_stigmergy=self.webpackChunk_randy888chan_stigmergy||[]).push([[721],{2721:(t,e,n)=>{n.r(e),n.d(e,{default:()=>A});var r=n(6540),o=n(4653),a=n(8097),i=n(9107),c=n(7984),s=n(3495),l=n(497),u=n(1598),d=n(5072),m=n.n(d),f=n(7825),v=n.n(f),p=n(7659),h=n.n(p),y=n(5056),b=n.n(y),g=n(540),E=n.n(g),x=n(1113),C=n.n(x),w=n(7166),k={};function N(){var t,e,n="function"==typeof Symbol?Symbol:{},r=n.iterator||"@@iterator",o=n.toStringTag||"@@toStringTag";function a(n,r,o,a){var s=r&&r.prototype instanceof c?r:c,l=Object.create(s.prototype);return j(l,"_invoke",function(n,r,o){var a,c,s,l=0,u=o||[],d=!1,m={p:0,n:0,v:t,a:f,f:f.bind(t,4),d:function(e,n){return a=e,c=0,s=t,m.n=n,i}};function f(n,r){for(c=n,s=r,e=0;!d&&l&&!o&&e<u.length;e++){var o,a=u[e],f=m.p,v=a[2];n>3?(o=v===r)&&(s=a[(c=a[4])?5:(c=3,3)],a[4]=a[5]=t):a[0]<=f&&((o=n<2&&f<a[1])?(c=0,m.v=r,m.n=a[1]):f<v&&(o=n<3||a[0]>r||r>v)&&(a[4]=n,a[5]=r,m.n=v,c=0))}if(o||n>1)return i;throw d=!0,r}return function(o,u,v){if(l>1)throw TypeError("Generator is already running");for(d&&1===u&&f(u,v),c=u,s=v;(e=c<2?t:s)||!d;){a||(c?c<3?(c>1&&(m.n=-1),f(c,s)):m.n=s:m.v=s);try{if(l=2,a){if(c||(o="next"),e=a[o]){if(!(e=e.call(a,s)))throw TypeError("iterator result is not an object");if(!e.done)return e;s=e.value,c<2&&(c=0)}else 1===c&&(e=a.return)&&e.call(a),c<2&&(s=TypeError("The iterator does not provide a '"+o+"' method"),c=1);a=t}else if((e=(d=m.n<0)?s:n.call(r,m))!==i)break}catch(e){a=t,c=1,s=e}finally{l=1}}return{value:e,done:d}}}(n,o,a),!0),l}var i={};function c(){}function s(){}function l(){}e=Object.getPrototypeOf;var u=[][r]?e(e([][r]())):(j(e={},r,function(){return this}),e),d=l.prototype=c.prototype=Object.create(u);function m(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,l):(t.__proto__=l,j(t,o,"GeneratorFunction")),t.prototype=Object.create(d),t}return s.prototype=l,j(d,"constructor",l),j(l,"constructor",s),s.displayName="GeneratorFunction",j(l,o,"GeneratorFunction"),j(d),j(d,o,"Generator"),j(d,r,function(){return this}),j(d,"toString",function(){return"[object Generator]"}),(N=function(){return{w:a,m}})()}function j(t,e,n,r){var o=Object.defineProperty;try{o({},"",{})}catch(t){o=0}j=function(t,e,n,r){function a(e,n){j(t,e,function(t){return this._invoke(e,n,t)})}e?o?o(t,e,{value:n,enumerable:!r,configurable:!r,writable:!r}):t[e]=n:(a("next",0),a("throw",1),a("return",2))},j(t,e,n,r)}function T(t,e,n,r,o,a,i){try{var c=t[a](i),s=c.value}catch(t){return void n(t)}c.done?e(s):Promise.resolve(s).then(r,o)}function S(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,o,a,i,c=[],s=!0,l=!1;try{if(a=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=a.call(n)).done)&&(c.push(r.value),c.length!==e);s=!0);}catch(t){l=!0,o=t}finally{try{if(!s&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(l)throw o}}return c}}(t,e)||function(t,e){if(t){if("string"==typeof t)return O(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?O(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function O(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}k.styleTagTransform=C(),k.setAttributes=b(),k.insert=h().bind(null,"head"),k.domAPI=v(),k.insertStyleElement=E(),m()(w.A,k),w.A&&w.A.locals&&w.A.locals;const A=function(){var t=S((0,r.useState)({totalCost:0,todayCost:0,thisWeekCost:0,thisMonthCost:0,providers:[],chartData:[]}),2),e=t[0],n=t[1],d=S((0,r.useState)(!0),2),m=d[0],f=d[1],v=S((0,r.useState)(null),2),p=v[0],h=v[1];(0,r.useEffect)(function(){var t=function(){var t,e=(t=N().m(function t(){var e,r,o,a;return N().w(function(t){for(;;)switch(t.p=t.n){case 0:return t.p=0,f(!0),t.n=1,fetch("/api/cost");case 1:if((e=t.v).ok){t.n=2;break}throw new Error("HTTP error! status: ".concat(e.status));case 2:return t.n=3,e.json();case 3:r=t.v,o={totalCost:r.totalCost||0,todayCost:r.dailyCost||0,thisWeekCost:y(r.dailyCostHistory),thisMonthCost:b(r.dailyCostHistory),providers:Object.entries(r.providerCosts||{}).map(function(t){var e=S(t,2);return{name:e[0],cost:e[1]||0,tokens:0}}),chartData:(r.dailyCostHistory||[]).map(function(t){return{date:t.date,cost:t.cost||0}})},n(o),h(null),t.n=5;break;case 4:t.p=4,a=t.v,console.error("Error fetching cost data:",a),h("Failed to load cost data");case 5:return t.p=5,f(!1),t.f(5);case 6:return t.a(2)}},t,null,[[0,4,5,6]])}),function(){var e=this,n=arguments;return new Promise(function(r,o){var a=t.apply(e,n);function i(t){T(a,r,o,i,c,"next",t)}function c(t){T(a,r,o,i,c,"throw",t)}i(void 0)})});return function(){return e.apply(this,arguments)}}();t();var e=setInterval(t,3e4);return function(){return clearInterval(e)}},[]);var y=function(t){return t&&0!==t.length?t.slice(-7).reduce(function(t,e){return t+(e.cost||0)},0):0},b=function(t){return t&&0!==t.length?t.slice(-30).reduce(function(t,e){return t+(e.cost||0)},0):0};return m?r.createElement("div",{className:"cost-monitor"},r.createElement("h3",null,"Cost Monitoring"),r.createElement("div",{className:"loading"},"Loading cost data...")):p?r.createElement("div",{className:"cost-monitor"},r.createElement("h3",null,"Cost Monitoring"),r.createElement("div",{className:"error"},p)):r.createElement("div",{className:"cost-monitor"},r.createElement("h3",null,"Cost Monitoring"),r.createElement("div",{className:"cost-summary"},r.createElement("div",{className:"cost-item"},r.createElement("h4",null,"Total Cost"),r.createElement("div",{className:"cost-value"},"$",e.totalCost.toFixed(2))),r.createElement("div",{className:"cost-item"},r.createElement("h4",null,"Today"),r.createElement("div",{className:"cost-value"},"$",e.todayCost.toFixed(2))),r.createElement("div",{className:"cost-item"},r.createElement("h4",null,"This Week"),r.createElement("div",{className:"cost-value"},"$",e.thisWeekCost.toFixed(2))),r.createElement("div",{className:"cost-item"},r.createElement("h4",null,"This Month"),r.createElement("div",{className:"cost-value"},"$",e.thisMonthCost.toFixed(2)))),r.createElement("div",{className:"cost-chart"},r.createElement("h4",null,"Daily Cost Trend"),r.createElement(o.u,{width:"100%",height:"100%"},r.createElement(a.b,{data:e.chartData},r.createElement(i.d,{strokeDasharray:"3 3"}),r.createElement(c.W,{dataKey:"date"}),r.createElement(s.h,null),r.createElement(l.m,{formatter:function(t){return["$".concat(t.toFixed(2)),"Cost"]}}),r.createElement(u.N,{type:"monotone",dataKey:"cost",stroke:"#8884d8",activeDot:{r:8},name:"Cost ($)"})))),r.createElement("div",{className:"providers-list"},r.createElement("h4",null,"Provider Breakdown"),e.providers.length>0?e.providers.map(function(t,e){return r.createElement("div",{key:e,className:"provider-item"},r.createElement("div",{className:"provider-name"},t.name),r.createElement("div",{className:"provider-cost"},"$",t.cost.toFixed(2)),t.tokens>0&&r.createElement("div",{className:"provider-tokens"},t.tokens.toLocaleString()," tokens"))}):r.createElement("div",{className:"no-providers"},"No provider data available")))}},7166:(t,e,n)=>{n.d(e,{A:()=>c});var r=n(1601),o=n.n(r),a=n(6314),i=n.n(a)()(o());i.push([t.id,".cost-monitor {\n  padding: 20px;\n  background: #f8f9fa;\n  border-radius: 8px;\n  box-shadow: 0 2px 4px rgba(0,0,0,0.1);\n}\n\n.cost-monitor h3 {\n  margin-top: 0;\n  color: #333;\n  font-size: 1.2em;\n}\n\n.cost-summary {\n  display: flex;\n  justify-content: space-between;\n  margin-bottom: 20px;\n}\n\n.cost-item {\n  text-align: center;\n  padding: 10px;\n  background: white;\n  border-radius: 6px;\n  box-shadow: 0 1px 3px rgba(0,0,0,0.1);\n  flex: 1;\n  margin: 0 5px;\n}\n\n.cost-item h4 {\n  margin: 0 0 10px 0;\n  font-size: 1em;\n  color: #666;\n}\n\n.cost-value {\n  font-size: 1.5em;\n  font-weight: bold;\n  color: #2c3e50;\n}\n\n.cost-value.positive {\n  color: #27ae60;\n}\n\n.cost-value.negative {\n  color: #e74c3c;\n}\n\n.cost-chart {\n  height: 200px;\n  margin-top: 20px;\n}\n\n.providers-list {\n  margin-top: 20px;\n}\n\n.provider-item {\n  display: flex;\n  justify-content: space-between;\n  padding: 10px;\n  border-bottom: 1px solid #eee;\n}\n\n.provider-name {\n  font-weight: 500;\n}\n\n.provider-cost {\n  font-weight: bold;\n}\n\n.provider-tokens {\n  font-size: 0.9em;\n  color: #666;\n}",""]);const c=i}}]);