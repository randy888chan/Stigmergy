# VERIFIED: Preload configuration is correct and free of DOM pollution.
[test]
preload = ["./tests/setup-globals.js"]
jsx = "react-jsx"
jsxImportSource = "react"
paths = { "@/*": ["dashboard/src/*"], "@stigmergy/coderag/*": ["packages/coderag/*"] }
# This file will run BEFORE every test file.
# setup-globals.js creates our temporary test directory.
# NOTE: setup-dom.js has been removed from preload to prevent polluting the
# out-of-process E2E test server environment. Frontend tests must now
# import it directly if they need a DOM environment.

# These point to the scripts that run once after the entire test suite.
teardown = "./tests/teardown.js"

# Directory pattern to search for tests - limit to our new tests directory
dir = [
  "./tests/unit/HttpStorageAdapter.test.js",
  "./tests/unit/ai",
  "./tests/unit/localization.test.js",
  "./tests/unit/system_validator.test.js",
  "./tests/unit/tools",
  "./tests/unit/utils",
  "./tests/integration",
  "./packages/coderag/tests"
]
